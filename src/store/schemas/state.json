{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"title": "Ledger State",
	"type": "object",
	"properties": {
		"journal": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Journal"
			}
		},
		"accounts": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Account"
			}
		},
		"tokens": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Token"
			}
		},
		"books": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Book"
			}
		},
		"trustlines": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Trustline"
			}
		},
		"currencyOffers": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/CurrencyOffer"
			}
		},
		"nfTokens": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/NFToken"
			}
		},
		"nfTokenOffers": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/NFTokenOffer"
			}
		}
	},
	"definitions": {
		"Journal": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"creationTime": {
					"type": "integer"
				},
				"completionTime": {
					"type": "integer"
				},
				"ledgerIndex": {
					"type": "integer"
				},
				"entriesCount": {
					"type": "integer",
					"default": 0
				},
				"modifiedEntriesCount": {
					"type": "integer",
					"default": 0
				},
				"snapshotOrigin": {
					"type": "string"
				},
				"snapshotMarker": {
					"type": "any"
				}
			},
			"required": [
				"ledgerIndex"
			],
			"unique": [
				"ledgerIndex"
			]
		},
		"Account": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"address": {
					"type": "string",
					"format": "xrpl/address"
				},
				"balance": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"domain": {
					"type": "string",
					"format": "hex"
				},
				"emailHash": {
					"type": "string",
					"format": "hex"
				},
				"transferRate": {
					"type": "integer"
				},
				"blackholed": {
					"type": "boolean"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"address"
			],
			"unique": [
				"address"
			],
			"index": [
				"change"
			]
		},
		"Token": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"issuer": {
					"$ref": "#/definitions/Account"
				},
				"currency": {
					"type": "string",
					"format": "xrpl/currency"
				}
			},
			"required": [
				"issuer",
				"currency"
			],
			"unique": [
				["issuer", "currency"]
			]
		},
		"Book": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"takerPays": {
					"$ref": "#/definitions/Token"
				},
				"takerGets": {
					"$ref": "#/definitions/Token"
				}
			},
			"required": [],
			"unique": [
				["takerPays", "takerGets"]
			]
		},
		"Trustline": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"account": {
					"$ref": "#/definitions/Account"
				},
				"token": {
					"$ref": "#/definitions/Token"
				},
				"balance": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"account",
				"token",
				"balance"
			],
			"unique": [
				["account", "token"]
			],
			"index": [
				"token",
				"change"
			]
		},
		"CurrencyOffer": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"account": {
					"$ref": "#/definitions/Account"
				},
				"sequence": {
					"type": "integer"
				},
				"book": {
					"$ref": "#/definitions/Book"
				},
				"directory": {
					"type": "string",
					"format": "hex"
				},
				"takerPays": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"takerGets": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"expiration": {
					"type": "integer"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"account",
				"sequence",
				"takerPays",
				"takerGets"
			],
			"unique": [
				["account", "sequence"]
			],
			"index": [
				"book",
				"change"
			]
		},
		"NFToken": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"owner": {
					"$ref": "#/definitions/Account"
				},
				"issuer": {
					"$ref": "#/definitions/Account"
				},
				"tokenId": {
					"type": "string",
					"format": "hex"
				},
				"uri": {
					"type": "string",
					"format": "hex"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"owner",
				"issuer",
				"tokenId"
			],
			"unique": [
				"tokenId"
			],
			"index": [
				"change"
			]
		},
		"NFTokenOffer": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"account": {
					"$ref": "#/definitions/Account"
				},
				"offerId": {
					"type": "string",
					"format": "hex"
				},
				"tokenId": {
					"type": "string",
					"format": "hex"
				},
				"amountToken": {
					"$ref": "#/definitions/Token"
				},
				"amountValue": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"buy": {
					"type": "boolean"
				},
				"destination": {
					"$ref": "#/definitions/Account"
				},
				"expiration": {
					"type": "integer"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"account",
				"offerId",
				"tokenId",
				"amountCurrency",
				"amountValue",
				"buy"
			],
			"unique": [
				["offerId"]
			],
			"index": [
				"change"
			]
		}
	}
}