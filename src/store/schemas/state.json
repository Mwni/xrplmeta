{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"title": "Ledger State",
	"type": "object",
	"properties": {
		"journal": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Journal"
			}
		},
		"accounts": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Account"
			}
		},
		"currencies": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Currency"
			}
		},
		"trustlines": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/Trustline"
			}
		},
		"currencyOffers": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/CurrencyOffer"
			}
		},
		"nfTokens": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/NFToken"
			}
		},
		"nfTokenOffers": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/NFTokenOffer"
			}
		}
	},
	"definitions": {
		"Journal": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"creationTime": {
					"type": "integer"
				},
				"completionTime": {
					"type": "integer"
				},
				"ledgerIndex": {
					"type": "integer"
				},
				"entriesCount": {
					"type": "integer",
					"default": 0
				},
				"modifiedEntriesCount": {
					"type": "integer",
					"default": 0
				},
				"snapshotOrigin": {
					"type": "string"
				},
				"snapshotMarker": {
					"type": "any"
				}
			},
			"required": [
				"ledgerIndex"
			],
			"unique": [
				"ledgerIndex"
			]
		},
		"Account": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"address": {
					"type": "string",
					"format": "xrpl/address"
				},
				"balance": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"domain": {
					"type": "string",
					"format": "hex"
				},
				"emailHash": {
					"type": "string",
					"format": "hex"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"address"
			],
			"unique": [
				"address"
			],
			"index": [
				"change"
			]
		},
		"Currency": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"code": {
					"type": "string",
					"format": "xrpl/currency"
				}
			},
			"required": [
				"code"
			],
			"unique": [
				"code"
			]
		},
		"Trustline": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"currency": {
					"$ref": "#/definitions/Currency"
				},
				"issuer": {
					"$ref": "#/definitions/Account"
				},
				"holder": {
					"$ref": "#/definitions/Account"
				},
				"balance": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"modifiedAtLedgerIndex": {
					"type": "integer"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"currency",
				"issuer",
				"holder",
				"balance"
			],
			"unique": [
				["currency", "issuer", "holder"]
			],
			"index": [
				"change"
			]
		},
		"CurrencyOffer": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"account": {
					"$ref": "#/definitions/Account"
				},
				"sequence": {
					"type": "integer"
				},
				"takerPaysCurrency": {
					"$ref": "#/definitions/Currency"
				},
				"takerPaysIssuer": {
					"$ref": "#/definitions/Account"
				},
				"takerPaysValue": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"takerGetsCurrency": {
					"$ref": "#/definitions/Currency"
				},
				"takerGetsIssuer": {
					"$ref": "#/definitions/Account"
				},
				"takerGetsValue": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"expiration": {
					"type": "integer"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"account",
				"sequence",
				"takerPaysCurrency",
				"takerPaysValue",
				"takerGetsCurrency",
				"takerGetsValue"
			],
			"unique": [
				["account", "sequence"]
			],
			"index": [
				"change"
			]
		},
		"NFToken": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"owner": {
					"$ref": "#/definitions/Account"
				},
				"issuer": {
					"$ref": "#/definitions/Account"
				},
				"tokenId": {
					"type": "string",
					"format": "hex"
				},
				"uri": {
					"type": "string",
					"format": "hex"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"owner",
				"issuer",
				"tokenId"
			],
			"unique": [
				"tokenId"
			],
			"index": [
				"change"
			]
		},
		"NFTokenOffer": {
			"type": "object",
			"properties": {
				"id": {
					"type": "integer",
					"id": true
				},
				"account": {
					"$ref": "#/definitions/Account"
				},
				"offerId": {
					"type": "string",
					"format": "hex"
				},
				"tokenId": {
					"type": "string",
					"format": "hex"
				},
				"amountCurrency": {
					"$ref": "#/definitions/Currency"
				},
				"amountIssuer": {
					"$ref": "#/definitions/Account"
				},
				"amountValue": {
					"type": "string",
					"format": "xrpl/xfl"
				},
				"buy": {
					"type": "boolean"
				},
				"destination": {
					"$ref": "#/definitions/Account"
				},
				"expiration": {
					"type": "integer"
				},
				"change": {
					"type": "string",
					"enum": [
						"new",
						"modified",
						"deleted"
					]
				}
			},
			"required": [
				"account",
				"offerId",
				"tokenId",
				"amountCurrency",
				"amountValue",
				"buy"
			],
			"unique": [
				["offerId"]
			],
			"index": [
				"change"
			]
		}
	}
}